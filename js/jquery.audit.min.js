/*** 
 * Copyright (c) 2014 
 * Licensed under the MIT License.
 *
 * Author: Michael Eisenbraun
 * Version: 1.0.0
 * Requires: jQuery 1.7.2+
 * Documentation: http://eisenbraun.github.io/audit
 */if(!window.console)var console={log:function(){}};(function(e,t,n,r){function i(t,n){this.$el=e(t);n&&e.extend(this,n);this.VERSION="1.0.0";this.init()}i.prototype.init=function(){var t=this;t.form=t.$el.children().detach();t.inputs={};e.each(e(":input",this.form),function(){var n=e(this).attr("name")?e(this).attr("name"):e(this).attr("id");e(this).addClass("input");n&&(t.inputs[n]={value:e(this).val(),type:e(this).attr("type"),tag:e(this)[0].tagName,valid:e(this)[0].validity.valid});e(this)[0].validity.valid||e(this).addClass("invalid")});this.$el.append(this.form);t.$el.on("submit",function(){for(input in t.inputs)if(!t.inputs[input].valid){console.log("Not validated");return!1}return!0});t.$el.on("blur",":input",function(){if(e(this)[0].validity.valid)e(this).removeClass("invalid");else{e(this).addClass("invalid");e(this)[0].validity.valueMissing&&console.log("This input can not be left blank.");e(this)[0].validity.patternMismatch&&console.log("This input is invalid.")}})};e.fn.audit=function(t){var n=[],s=Array.prototype.slice.call(arguments,1);typeof t=="string"?this.each(function(){var i=e.data(this,"audit");if(typeof i=="undefined"||!e.isFunction(i[t]))return e.error('No such method "'+t+'" for audit');var o=i[t].apply(i,s);o!==r&&o!==i&&n.push(o)}):this.each(function(){e.data(this,"audit")||e.data(this,"audit",new i(this,t))});return n.length===0?this.data("audit"):n.length===1?n[0]:n}})(jQuery,window,document);